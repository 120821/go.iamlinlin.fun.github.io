---
layout: post
title: "Linux df 命令"
date: "2022-08-18"
categories: 
---
<p><a href="https://www.runoob.com/linux/linux-comm-df.html">Linux df 命令</a></p>

<p>Linux df（英文全拼：disk free） 命令用于显示目前在 Linux 系统上的文件系统磁盘使用情况统计。</p>

<pre class="prettyprint prettyprinted" style="">
<span class="pln">df </span><span class="pun">[选项]...</span><span class="pln"> </span><span class="pun">[</span><span class="pln">FILE</span><span class="pun">]...</span>{% endhighlight %}

<ul>
	<li>文件-a, --all 包含所有的具有 0 Blocks 的文件系统</li>
	<li>文件--block-size={SIZE} 使用 {SIZE} 大小的 Blocks</li>
	<li>文件-h, --human-readable 使用人类可读的格式(预设值是不加这个选项的...)</li>
	<li>文件-H, --si 很像 -h, 但是用 1000 为单位而不是用 1024</li>
	<li>文件-i, --inodes 列出 inode 资讯，不列出已使用 block</li>
	<li>文件-k, --kilobytes 就像是 --block-size=1024</li>
	<li>文件-l, --local 限制列出的文件结构</li>
	<li>文件-m, --megabytes 就像 --block-size=1048576</li>
	<li>文件--no-sync 取得资讯前不 sync (预设值)</li>
	<li>文件-P, --portability 使用 POSIX 输出格式</li>
	<li>文件--sync 在取得资讯前 sync</li>
	<li>文件-t, --type=TYPE 限制列出文件系统的 TYPE</li>
	<li>文件-T, --print-type 显示文件系统的形式</li>
	<li>文件-x, --exclude-type=TYPE 限制列出文件系统不要显示 TYPE</li>
	<li>文件-v (忽略)</li>
	<li>文件--help 显示这个帮手并且离开</li>
	<li>文件--version 输出版本资讯并且离开</li>
</ul>

<p>显示文件系统的磁盘使用情况统计</p>

<pre class="prettyprint prettyprinted" style="">
<span class="com"># df </span><span class="pln">
</span><span class="typ">Filesystem</span><span class="pln">     </span><span class="lit">1K</span><span class="pun">-</span><span class="pln">blocks    </span><span class="typ">Used</span><span class="pln">     </span><span class="typ">Available</span><span class="pln"> </span><span class="typ">Use</span><span class="pun">%</span><span class="pln"> </span><span class="typ">Mounted</span><span class="pln"> on 
</span><span class="pun">/</span><span class="pln">dev</span><span class="pun">/</span><span class="pln">sda6       </span><span class="lit">29640780</span><span class="pln"> </span><span class="lit">4320704</span><span class="pln">     </span><span class="lit">23814388</span><span class="pln">  </span><span class="lit">16</span><span class="pun">%</span><span class="pln">     </span><span class="pun">/</span><span class="pln"> 
udev             </span><span class="lit">1536756</span><span class="pln">       </span><span class="lit">4</span><span class="pln">     </span><span class="lit">1536752</span><span class="pln">    </span><span class="lit">1</span><span class="pun">%</span><span class="pln">     </span><span class="pun">/</span><span class="pln">dev 
tmpfs             </span><span class="lit">617620</span><span class="pln">     </span><span class="lit">888</span><span class="pln">     </span><span class="lit">616732</span><span class="pln">     </span><span class="lit">1</span><span class="pun">%</span><span class="pln">     </span><span class="pun">/</span><span class="pln">run 
none                </span><span class="lit">5120</span><span class="pln">       </span><span class="lit">0</span><span class="pln">     </span><span class="lit">5120</span><span class="pln">       </span><span class="lit">0</span><span class="pun">%</span><span class="pln">     </span><span class="str">/run/</span><span class="kwd">lock</span><span class="pln"> 
none             </span><span class="lit">1544044</span><span class="pln">     </span><span class="lit">156</span><span class="pln">     </span><span class="lit">1543888</span><span class="pln">    </span><span class="lit">1</span><span class="pun">%</span><span class="pln">     </span><span class="str">/run/</span><span class="pln">shm </span>{% endhighlight %}

<p><img height="184" src="/uploads/ckeditor/pictures/251/image-20220818104707-1.png" width="721" /></p>

<p>第一列指定文件系统的名称，第二列指定一个特定的文件系统1K-块1K是1024字节为单位的总内存。用和可用列正在使用中，分别指定的内存量。</p>

<p>使用列指定使用的内存的百分比，而最后一栏&quot;安装在&quot;指定的文件系统的挂载点。</p>

<p>df也可以显示磁盘使用的文件系统信息：</p>

<pre class="prettyprint prettyprinted" style="">
<span class="com"># df test </span><span class="pln">
</span><span class="typ">Filesystem</span><span class="pln">     </span><span class="lit">1K</span><span class="pun">-</span><span class="pln">blocks    </span><span class="typ">Used</span><span class="pln">      </span><span class="typ">Available</span><span class="pln"> </span><span class="typ">Use</span><span class="pun">%</span><span class="pln"> </span><span class="typ">Mounted</span><span class="pln"> on 
</span><span class="pun">/</span><span class="pln">dev</span><span class="pun">/</span><span class="pln">sda6       </span><span class="lit">29640780</span><span class="pln">    </span><span class="lit">4320600</span><span class="pln">   </span><span class="lit">23814492</span><span class="pln">  </span><span class="lit">16</span><span class="pun">%</span><span class="pln">       </span><span class="pun">/</span><span class="pln"> </span>{% endhighlight %}

<p><img height="96" src="/uploads/ckeditor/pictures/252/image-20220818104806-2.png" width="717" /></p>

<p>用一个-i选项的df命令的输出显示inode信息而非块使用量。</p>

<pre class="prettyprint prettyprinted" style="">
<span class="pln">df </span><span class="pun">-</span><span class="pln">i 
</span><span class="typ">Filesystem</span><span class="pln">      </span><span class="typ">Inodes</span><span class="pln">    </span><span class="typ">IUsed</span><span class="pln">    </span><span class="typ">IFree</span><span class="pln">     </span><span class="typ">IUse</span><span class="pun">%</span><span class="pln"> </span><span class="typ">Mounted</span><span class="pln"> on 
</span><span class="pun">/</span><span class="pln">dev</span><span class="pun">/</span><span class="pln">sda6      </span><span class="lit">1884160</span><span class="pln">    </span><span class="lit">261964</span><span class="pln">   </span><span class="lit">1622196</span><span class="pln">   </span><span class="lit">14</span><span class="pun">%</span><span class="pln">        </span><span class="pun">/</span><span class="pln"> 
udev           </span><span class="lit">212748</span><span class="pln">     </span><span class="lit">560</span><span class="pln">      </span><span class="lit">212188</span><span class="pln">    </span><span class="lit">1</span><span class="pun">%</span><span class="pln">         </span><span class="pun">/</span><span class="pln">dev 
tmpfs          </span><span class="lit">216392</span><span class="pln">     </span><span class="lit">477</span><span class="pln">      </span><span class="lit">215915</span><span class="pln">    </span><span class="lit">1</span><span class="pun">%</span><span class="pln">         </span><span class="pun">/</span><span class="pln">run 
none           </span><span class="lit">216392</span><span class="pln">     </span><span class="lit">3</span><span class="pln">        </span><span class="lit">216389</span><span class="pln">    </span><span class="lit">1</span><span class="pun">%</span><span class="pln">         </span><span class="str">/run/</span><span class="kwd">lock</span><span class="pln"> 
none           </span><span class="lit">216392</span><span class="pln">     </span><span class="lit">8</span><span class="pln">        </span><span class="lit">216384</span><span class="pln">    </span><span class="lit">1</span><span class="pun">%</span><span class="pln">         </span><span class="str">/run/</span><span class="pln">shm </span>{% endhighlight %}

<p><img height="186" src="/uploads/ckeditor/pictures/253/image-20220818104843-3.png" width="732" /></p>

<p>显示所有的信息:</p>

<pre class="prettyprint prettyprinted" style="">
<span class="com"># df --total </span><span class="pln">
</span><span class="typ">Filesystem</span><span class="pln">     </span><span class="lit">1K</span><span class="pun">-</span><span class="pln">blocks    </span><span class="typ">Used</span><span class="pln">    </span><span class="typ">Available</span><span class="pln"> </span><span class="typ">Use</span><span class="pun">%</span><span class="pln"> </span><span class="typ">Mounted</span><span class="pln"> on 
</span><span class="pun">/</span><span class="pln">dev</span><span class="pun">/</span><span class="pln">sda6       </span><span class="lit">29640780</span><span class="pln"> </span><span class="lit">4320720</span><span class="pln">    </span><span class="lit">23814372</span><span class="pln">  </span><span class="lit">16</span><span class="pun">%</span><span class="pln">     </span><span class="pun">/</span><span class="pln"> 
udev             </span><span class="lit">1536756</span><span class="pln">       </span><span class="lit">4</span><span class="pln">    </span><span class="lit">1536752</span><span class="pln">   </span><span class="lit">1</span><span class="pun">%</span><span class="pln">      </span><span class="pun">/</span><span class="pln">dev 
tmpfs             </span><span class="lit">617620</span><span class="pln">     </span><span class="lit">892</span><span class="pln">    </span><span class="lit">616728</span><span class="pln">    </span><span class="lit">1</span><span class="pun">%</span><span class="pln">      </span><span class="pun">/</span><span class="pln">run 
none                </span><span class="lit">5120</span><span class="pln">       </span><span class="lit">0</span><span class="pln">    </span><span class="lit">5120</span><span class="pln">      </span><span class="lit">0</span><span class="pun">%</span><span class="pln">      </span><span class="str">/run/</span><span class="kwd">lock</span><span class="pln"> 
none             </span><span class="lit">1544044</span><span class="pln">     </span><span class="lit">156</span><span class="pln">    </span><span class="lit">1543888</span><span class="pln">   </span><span class="lit">1</span><span class="pun">%</span><span class="pln">      </span><span class="str">/run/</span><span class="pln">shm 
total           </span><span class="lit">33344320</span><span class="pln"> </span><span class="lit">4321772</span><span class="pln">    </span><span class="lit">27516860</span><span class="pln">  </span><span class="lit">14</span><span class="pun">%</span><span class="pln"> </span>{% endhighlight %}

<p><img height="200" src="/uploads/ckeditor/pictures/254/image-20220818104941-4.png" width="746" /></p>

<p>我们看到输出的末尾，包含一个额外的行，显示总的每一列。</p>

<p>-h选项，通过它可以产生可读的格式df命令的输出：</p>

<pre class="prettyprint prettyprinted" style="">
<span class="com"># df -h </span><span class="pln">
</span><span class="typ">Filesystem</span><span class="pln">      </span><span class="typ">Size</span><span class="pln">  </span><span class="typ">Used</span><span class="pln">   </span><span class="typ">Avail</span><span class="pln"> </span><span class="typ">Use</span><span class="pun">%</span><span class="pln"> </span><span class="typ">Mounted</span><span class="pln"> on 
</span><span class="pun">/</span><span class="pln">dev</span><span class="pun">/</span><span class="pln">sda6       </span><span class="lit">29G</span><span class="pln">   </span><span class="lit">4.2G</span><span class="pln">   </span><span class="lit">23G</span><span class="pln">   </span><span class="lit">16</span><span class="pun">%</span><span class="pln">     </span><span class="pun">/</span><span class="pln"> 
udev            </span><span class="lit">1.5G</span><span class="pln">  </span><span class="lit">4.0K</span><span class="pln">   </span><span class="lit">1.5G</span><span class="pln">   </span><span class="lit">1</span><span class="pun">%</span><span class="pln">     </span><span class="pun">/</span><span class="pln">dev 
tmpfs           </span><span class="lit">604M</span><span class="pln">  </span><span class="lit">892K</span><span class="pln">   </span><span class="lit">603M</span><span class="pln">   </span><span class="lit">1</span><span class="pun">%</span><span class="pln">     </span><span class="pun">/</span><span class="pln">run 
none            </span><span class="lit">5.0M</span><span class="pln">     </span><span class="lit">0</span><span class="pln">   </span><span class="lit">5.0M</span><span class="pln">   </span><span class="lit">0</span><span class="pun">%</span><span class="pln">     </span><span class="str">/run/</span><span class="kwd">lock</span><span class="pln"> 
none            </span><span class="lit">1.5G</span><span class="pln">  </span><span class="lit">156K</span><span class="pln">   </span><span class="lit">1.5G</span><span class="pln">   </span><span class="lit">1</span><span class="pun">%</span><span class="pln">     </span><span class="str">/run/</span><span class="pln">shm </span>{% endhighlight %}

<p><img height="186" src="/uploads/ckeditor/pictures/255/image-20220818105019-5.png" width="657" /></p>

<p>我们可以看到输出显示的数字形式的&#39;G&#39;（千兆字节），&quot;M&quot;（兆字节）和&quot;K&quot;（千字节）。</p>

<p>这使输出容易阅读和理解，从而使显示可读的。请注意，第二列的名称也发生了变化，为了使显示可读的&quot;大小&quot;。</p>

