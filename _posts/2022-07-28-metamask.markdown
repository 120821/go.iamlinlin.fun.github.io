---
layout: post
title: "判断是否安装metamask 和用户登录"
date: "2022-07-28"
categories: 
---
<p>http://siwei.me/blog/posts/blockchain-metamask-api</p>

<p>参考：https://docs.metamask.io/guide/getting-started.html</p>

<p>metamask 作为firefox 或者chrome插件安装之后，会给window对象增加一个属性: ethereum&nbsp; 例如：</p>

<p>1. 判断metamask 是否安装</p>

<pre class="hljs coffeescript">
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">window</span>.ethereum !== <span class="hljs-string">&#39;undefined&#39;</span>) {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#39;MetaMask is installed!&#39;</span>);
}{% endhighlight %}

<p>对于以及安装过的的话，就打印，否则就返回undefined</p>

<p>2. 让当前用户进行登录</p>

<p>window.ethereum.request({ method: &quot;eth_requestAccounts&quot; })</p>

<p><img src="https://files.sweetysoft.com/blog_images/from_paste_20220106_165016.png" /></p>

