---
layout: post
title: "heap trackjs 的使用"
date: "2022-08-08"
categories: 
---
<p>官网：https://heap.io/</p>

<p>（doc）：https://developers.heap.io/docs/web?_ga=2.211138645.1114119091.1659663322-1277517738.1659512000</p>

<p>官网（doc）：https://docs.trackjs.com/browser-agent/installation/</p>

<p>增加这一段话，即可进行用户使用的监测</p>

<p><span style="border-block: unset; border-inline: unset; border-start-start-radius: unset; border-start-end-radius: unset; border-end-start-radius: unset; border-end-end-radius: unset; overflow-inline: unset; overflow-block: unset; overscroll-behavior-inline: unset; overscroll-behavior-block: unset; margin-block: unset; margin-inline: unset; scroll-margin-block: unset; scroll-margin-inline: unset; padding-block: unset; padding-inline: unset; scroll-padding-block: unset; scroll-padding-inline: unset; inset-block: unset; inset-inline: unset; block-size: unset; min-block-size: unset; max-block-size: unset; inline-size: unset; min-inline-size: unset; max-inline-size: unset; background: unset; background-blend-mode: unset; border: unset; border-radius: unset; box-decoration-break: unset; -moz-float-edge: unset; display: unset; position: fixed; float: unset; clear: unset; vertical-align: unset; overflow: unset; overflow-anchor: unset; transform: unset; rotate: unset; scale: unset; translate: unset; offset: unset; scroll-behavior: unset; scroll-snap-align: unset; scroll-snap-type: unset; scroll-snap-stop: unset; overscroll-behavior: unset; isolation: unset; break-after: unset; break-before: unset; break-inside: unset; resize: unset; perspective: unset; perspective-origin: unset; backface-visibility: unset; transform-box: unset; transform-style: unset; transform-origin: unset; contain: unset; appearance: unset; -moz-orient: unset; will-change: unset; shape-image-threshold: unset; shape-margin: unset; shape-outside: unset; touch-action: unset; -webkit-line-clamp: unset; scrollbar-gutter: unset; columns: unset; column-fill: unset; column-rule: unset; column-span: unset; content: unset; counter-increment: unset; counter-reset: unset; counter-set: unset; opacity: unset; box-shadow: unset; clip: rect(0px, 0px, 0px, 0px); filter: unset; backdrop-filter: unset; mix-blend-mode: unset; font: unset; font-synthesis: unset; visibility: unset; writing-mode: unset; text-orientation: unset; print-color-adjust: unset; image-rendering: unset; image-orientation: unset; dominant-baseline: unset; text-anchor: unset; color-interpolation: unset; color-interpolation-filters: unset; fill: unset; fill-opacity: unset; fill-rule: unset; shape-rendering: unset; stroke: unset; stroke-width: unset; stroke-linecap: unset; stroke-linejoin: unset; stroke-miterlimit: unset; stroke-opacity: unset; stroke-dasharray: unset; stroke-dashoffset: unset; clip-rule: unset; marker: unset; paint-order: unset; border-collapse: unset; empty-cells: unset; caption-side: unset; border-spacing: unset; color: unset; text-transform: unset; hyphens: unset; -moz-text-size-adjust: unset; text-indent: unset; overflow-wrap: unset; word-break: unset; text-justify: unset; text-align-last: unset; text-align: unset; letter-spacing: unset; word-spacing: unset; white-space: pre; text-shadow: unset; text-emphasis: unset; text-emphasis-position: unset; tab-size: unset; line-break: unset; -webkit-text-fill-color: unset; -webkit-text-stroke: unset; ruby-align: unset; ruby-position: unset; text-combine-upright: unset; text-rendering: unset; text-underline-offset: unset; text-underline-position: unset; text-decoration-skip-ink: unset; hyphenate-character: unset; cursor: unset; pointer-events: unset; -moz-user-input: unset; -moz-user-modify: unset; -moz-user-focus: unset; caret-color: unset; accent-color: unset; color-scheme: unset; scrollbar-color: unset; list-style: unset; quotes: unset; -moz-image-region: unset; margin: unset; overflow-clip-margin: unset; scroll-margin: unset; outline: unset; outline-offset: unset; size: unset; padding: unset; scroll-padding: unset; top: 0px; right: unset; bottom: unset; left: unset; z-index: unset; flex-flow: unset; place-content: unset; place-items: unset; flex: unset; place-self: unset; order: unset; width: unset; min-width: unset; max-width: unset; height: unset; min-height: unset; max-height: unset; box-sizing: unset; object-fit: unset; object-position: unset; grid-area: unset; grid: unset; gap: unset; aspect-ratio: unset; vector-effect: unset; stop-color: unset; stop-opacity: unset; flood-color: unset; flood-opacity: unset; lighting-color: unset; mask-type: unset; clip-path: unset; mask: unset; x: unset; y: unset; cx: unset; cy: unset; rx: unset; ry: unset; r: unset; d: unset; table-layout: unset; text-overflow: unset; text-decoration: unset; ime-mode: unset; scrollbar-width: unset; user-select: text; -moz-window-dragging: unset; -moz-force-broken-image-icon: unset; transition: unset; animation: unset; -moz-box-align: unset; -moz-box-direction: unset; -moz-box-flex: unset; -moz-box-orient: unset; -moz-box-pack: unset; -moz-box-ordinal-group: unset;">&lt;script type=&quot;text/javascript&quot;&gt; window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=document.createElement(&quot;script&quot;);r.type=&quot;text/javascript&quot;,r.async=!0,r.src=&quot;https://cdn.heapanalytics.com/js/heap-&quot;+e+&quot;.js&quot;;var a=document.getElementsByTagName(&quot;script&quot;)[0];a.parentNode.insertBefore(r,a);for(var n=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=[&quot;addEventProperties&quot;,&quot;addUserProperties&quot;,&quot;clearEventProperties&quot;,&quot;identify&quot;,&quot;resetIdentity&quot;,&quot;removeEventProperty&quot;,&quot;setEventProperties&quot;,&quot;track&quot;,&quot;unsetEventProperty&quot;],o=0;o&lt;p.length;o++)heap[p[o]]=n(p[o])}; heap.load(&quot;YOUR_APP_ID&quot;); &lt;/script&gt; </span></p>

<p><span style="border-block: unset; border-inline: unset; border-start-start-radius: unset; border-start-end-radius: unset; border-end-start-radius: unset; border-end-end-radius: unset; overflow-inline: unset; overflow-block: unset; overscroll-behavior-inline: unset; overscroll-behavior-block: unset; margin-block: unset; margin-inline: unset; scroll-margin-block: unset; scroll-margin-inline: unset; padding-block: unset; padding-inline: unset; scroll-padding-block: unset; scroll-padding-inline: unset; inset-block: unset; inset-inline: unset; block-size: unset; min-block-size: unset; max-block-size: unset; inline-size: unset; min-inline-size: unset; max-inline-size: unset; background: unset; background-blend-mode: unset; border: unset; border-radius: unset; box-decoration-break: unset; -moz-float-edge: unset; display: unset; position: fixed; float: unset; clear: unset; vertical-align: unset; overflow: unset; overflow-anchor: unset; transform: unset; rotate: unset; scale: unset; translate: unset; offset: unset; scroll-behavior: unset; scroll-snap-align: unset; scroll-snap-type: unset; scroll-snap-stop: unset; overscroll-behavior: unset; isolation: unset; break-after: unset; break-before: unset; break-inside: unset; resize: unset; perspective: unset; perspective-origin: unset; backface-visibility: unset; transform-box: unset; transform-style: unset; transform-origin: unset; contain: unset; appearance: unset; -moz-orient: unset; will-change: unset; shape-image-threshold: unset; shape-margin: unset; shape-outside: unset; touch-action: unset; -webkit-line-clamp: unset; scrollbar-gutter: unset; columns: unset; column-fill: unset; column-rule: unset; column-span: unset; content: unset; counter-increment: unset; counter-reset: unset; counter-set: unset; opacity: unset; box-shadow: unset; clip: rect(0px, 0px, 0px, 0px); filter: unset; backdrop-filter: unset; mix-blend-mode: unset; font: unset; font-synthesis: unset; visibility: unset; writing-mode: unset; text-orientation: unset; print-color-adjust: unset; image-rendering: unset; image-orientation: unset; dominant-baseline: unset; text-anchor: unset; color-interpolation: unset; color-interpolation-filters: unset; fill: unset; fill-opacity: unset; fill-rule: unset; shape-rendering: unset; stroke: unset; stroke-width: unset; stroke-linecap: unset; stroke-linejoin: unset; stroke-miterlimit: unset; stroke-opacity: unset; stroke-dasharray: unset; stroke-dashoffset: unset; clip-rule: unset; marker: unset; paint-order: unset; border-collapse: unset; empty-cells: unset; caption-side: unset; border-spacing: unset; color: unset; text-transform: unset; hyphens: unset; -moz-text-size-adjust: unset; text-indent: unset; overflow-wrap: unset; word-break: unset; text-justify: unset; text-align-last: unset; text-align: unset; letter-spacing: unset; word-spacing: unset; white-space: pre; text-shadow: unset; text-emphasis: unset; text-emphasis-position: unset; tab-size: unset; line-break: unset; -webkit-text-fill-color: unset; -webkit-text-stroke: unset; ruby-align: unset; ruby-position: unset; text-combine-upright: unset; text-rendering: unset; text-underline-offset: unset; text-underline-position: unset; text-decoration-skip-ink: unset; hyphenate-character: unset; cursor: unset; pointer-events: unset; -moz-user-input: unset; -moz-user-modify: unset; -moz-user-focus: unset; caret-color: unset; accent-color: unset; color-scheme: unset; scrollbar-color: unset; list-style: unset; quotes: unset; -moz-image-region: unset; margin: unset; overflow-clip-margin: unset; scroll-margin: unset; outline: unset; outline-offset: unset; size: unset; padding: unset; scroll-padding: unset; top: 0px; right: unset; bottom: unset; left: unset; z-index: unset; flex-flow: unset; place-content: unset; place-items: unset; flex: unset; place-self: unset; order: unset; width: unset; min-width: unset; max-width: unset; height: unset; min-height: unset; max-height: unset; box-sizing: unset; object-fit: unset; object-position: unset; grid-area: unset; grid: unset; gap: unset; aspect-ratio: unset; vector-effect: unset; stop-color: unset; stop-opacity: unset; flood-color: unset; flood-opacity: unset; lighting-color: unset; mask-type: unset; clip-path: unset; mask: unset; x: unset; y: unset; cx: unset; cy: unset; rx: unset; ry: unset; r: unset; d: unset; table-layout: unset; text-overflow: unset; text-decoration: unset; ime-mode: unset; scrollbar-width: unset; user-select: text; -moz-window-dragging: unset; -moz-force-broken-image-icon: unset; transition: unset; animation: unset; -moz-box-align: unset; -moz-box-direction: unset; -moz-box-flex: unset; -moz-box-orient: unset; -moz-box-pack: unset; -moz-box-ordinal-group: unset;">&lt;script type=&quot;text/javascript&quot;&gt; window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=document.createElement(&quot;script&quot;);r.type=&quot;text/javascript&quot;,r.async=!0,r.src=&quot;https://cdn.heapanalytics.com/js/heap-&quot;+e+&quot;.js&quot;;var a=document.getElementsByTagName(&quot;script&quot;)[0];a.parentNode.insertBefore(r,a);for(var n=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=[&quot;addEventProperties&quot;,&quot;addUserProperties&quot;,&quot;clearEventProperties&quot;,&quot;identify&quot;,&quot;resetIdentity&quot;,&quot;removeEventProperty&quot;,&quot;setEventProperties&quot;,&quot;track&quot;,&quot;unsetEventProperty&quot;],o=0;o&lt;p.length;o++)heap[p[o]]=n(p[o])}; heap.load(&quot;YOUR_APP_ID&quot;); &lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=document.createElement(&quot;script&quot;);r.type=&quot;text/javascript&quot;,r.async=!0,r.src=&quot;https://cdn.heapanalytics.com/js/heap-&quot;+e+&quot;.js&quot;;var a=document.getElementsByTagName(&quot;script&quot;)[0];a.parentNode.insertBefore(r,a);for(var n=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=[&quot;addEventProperties&quot;,&quot;addUserProperties&quot;,&quot;clearEventProperties&quot;,&quot;identify&quot;,&quot;resetIdentity&quot;,&quot;removeEventProperty&quot;,&quot;setEventProperties&quot;,&quot;track&quot;,&quot;unsetEventProperty&quot;],o=0;o&lt;p.length;o++)heap[p[o]]=n(p[o])}; heap.load(&quot;YOUR_APP_ID&quot;); &lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=document.createElement(&quot;script&quot;);r.type=&quot;text/javascript&quot;,r.async=!0,r.src=&quot;https://cdn.heapanalytics.com/js/heap-&quot;+e+&quot;.js&quot;;var a=document.getElementsByTagName(&quot;script&quot;)[0];a.parentNode.insertBefore(r,a);for(var n=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=[&quot;addEventProperties&quot;,&quot;addUserProperties&quot;,&quot;clearEventProperties&quot;,&quot;identify&quot;,&quot;resetIdentity&quot;,&quot;removeEventProperty&quot;,&quot;setEventProperties&quot;,&quot;track&quot;,&quot;unsetEventProperty&quot;],o=0;o&lt;p.length;o++)heap[p[o]]=n(p[o])}; heap.load(&quot;YOUR_APP_ID&quot;); &lt;/script&gt; </span></p>

<pre>
<code class="rdmd-code lang-html theme-light" data-lang="html" name=""><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span> <span class="cm-attribute">type</span>=<span class="cm-string">&quot;text/javascript&quot;</span><span class="cm-tag cm-bracket">&gt;</span>   
<span class="cm-variable">window</span>.<span class="cm-property">heap</span><span class="cm-operator">=</span><span class="cm-variable">window</span>.<span class="cm-property">heap</span><span class="cm-operator">||</span>[],<span class="cm-variable">heap</span>.<span class="cm-property">load</span><span class="cm-operator">=</span><span class="cm-keyword">function</span>(<span class="cm-def">e</span>,<span class="cm-def">t</span>){<span class="cm-variable">window</span>.<span class="cm-property">heap</span>.<span class="cm-property">appid</span><span class="cm-operator">=</span><span class="cm-variable-2">e</span>,<span class="cm-variable">window</span>.<span class="cm-property">heap</span>.<span class="cm-property">config</span><span class="cm-operator">=</span><span class="cm-variable-2">t</span><span class="cm-operator">=</span><span class="cm-variable-2">t</span><span class="cm-operator">||</span>{};<span class="cm-keyword">var</span> <span class="cm-def">r</span><span class="cm-operator">=</span><span class="cm-variable">document</span>.<span class="cm-property">createElement</span>(<span class="cm-string">&quot;script&quot;</span>);<span class="cm-variable-2">r</span>.<span class="cm-property">type</span><span class="cm-operator">=</span><span class="cm-string">&quot;text/javascript&quot;</span>,<span class="cm-variable-2">r</span>.<span class="cm-property">async</span><span class="cm-operator">=!</span><span class="cm-number">0</span>,<span class="cm-variable-2">r</span>.<span class="cm-property">src</span><span class="cm-operator">=</span><span class="cm-string">&quot;https://cdn.heapanalytics.com/js/heap-&quot;</span><span class="cm-operator">+</span><span class="cm-variable-2">e</span><span class="cm-operator">+</span><span class="cm-string">&quot;.js&quot;</span>;<span class="cm-keyword">var</span> <span class="cm-def">a</span><span class="cm-operator">=</span><span class="cm-variable">document</span>.<span class="cm-property">getElementsByTagName</span>(<span class="cm-string">&quot;script&quot;</span>)[<span class="cm-number">0</span>];<span class="cm-variable-2">a</span>.<span class="cm-property">parentNode</span>.<span class="cm-property">insertBefore</span>(<span class="cm-variable-2">r</span>,<span class="cm-variable-2">a</span>);<span class="cm-keyword">for</span>(<span class="cm-keyword">var</span> <span class="cm-def">n</span><span class="cm-operator">=</span><span class="cm-keyword">function</span>(<span class="cm-def">e</span>){<span class="cm-keyword">return</span> <span class="cm-keyword">function</span>(){<span class="cm-variable">heap</span>.<span class="cm-property">push</span>([<span class="cm-variable-2">e</span>].<span class="cm-property">concat</span>(<span class="cm-variable">Array</span>.<span class="cm-property">prototype</span>.<span class="cm-property">slice</span>.<span class="cm-property">call</span>(<span class="cm-variable-2">arguments</span>,<span class="cm-number">0</span>)))}},<span class="cm-def">p</span><span class="cm-operator">=</span>[<span class="cm-string">&quot;addEventProperties&quot;</span>,<span class="cm-string">&quot;addUserProperties&quot;</span>,<span class="cm-string">&quot;clearEventProperties&quot;</span>,<span class="cm-string">&quot;identify&quot;</span>,<span class="cm-string">&quot;resetIdentity&quot;</span>,<span class="cm-string">&quot;removeEventProperty&quot;</span>,<span class="cm-string">&quot;setEventProperties&quot;</span>,<span class="cm-string">&quot;track&quot;</span>,<span class="cm-string">&quot;unsetEventProperty&quot;</span>],<span class="cm-def">o</span><span class="cm-operator">=</span><span class="cm-number">0</span>;<span class="cm-variable-2">o</span><span class="cm-operator">&lt;</span><span class="cm-variable-2">p</span>.<span class="cm-property">length</span>;<span class="cm-variable-2">o</span><span class="cm-operator">++</span>)<span class="cm-variable">heap</span>[<span class="cm-variable-2">p</span>[<span class="cm-variable-2">o</span>]]<span class="cm-operator">=</span><span class="cm-variable-2">n</span>(<span class="cm-variable-2">p</span>[<span class="cm-variable-2">o</span>])};   
<span class="cm-variable">heap</span>.<span class="cm-property">load</span>(<span class="cm-string">&quot;YOUR_APP_ID&quot;</span>); 
<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span>{% endhighlight %}

<p><img height="465" src="/uploads/ckeditor/pictures/167/image-20220808140210-1.png" width="616" /></p>

<p>如果没有 APP id就创建一个然后就可以了</p>

<p>trackjs方法同理，</p>

<p>&lt;script src=&quot;https://cdn.trackjs.com/agent/v3/latest/t.js&quot;&gt;&lt;/script&gt;<br />
&lt;script&gt;<br />
&nbsp; window.TrackJS &amp;&amp; TrackJS.install({<br />
&nbsp;&nbsp;&nbsp; token: &quot;060b36e578--------a247b903919&quot;（token id 填写即可使用）<br />
&nbsp; });<br />
&lt;/script&gt;</p>

<div class="notranslate" style="all: initial;">&nbsp;</div>

