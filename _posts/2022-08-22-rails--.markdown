---
layout: post
title: "rails--连接/使用多个数据库，使用某个数据库/创建表"
date: "2022-08-22"
categories: 
---
<p>1.使用多个数据库</p>

<p>修改数据库的配置：config/datebase.yml</p>

<p>例如：</p>

<pre>
<code>default: &amp;default

&nbsp; adapter: mysql2

&nbsp; encoding: utf8

&nbsp; pool: 5

&nbsp; username: root

&nbsp; password: 666666
development:

&nbsp; &lt;&lt;: *default

&nbsp; database: xxx11

test:

&nbsp; &lt;&lt;: *default

&nbsp; database: xxx111_test

production:

&nbsp; &lt;&lt;: *default

&nbsp; database: xxx111

# NEW

oracle_development:

&nbsp; adapter: oracle_enhanced

&nbsp; database: xxx222

&nbsp; username: xx222

&nbsp; password: xx222
oracle_production:

&nbsp; adapter: oracle_enhanced

&nbsp; database: xxx222

&nbsp; username: xx222

&nbsp; password: xx222</code></pre>

<p>2.使用某个数据库进行创建表</p>

<p>按照正常的migrate方法进行创建，然后运行命令指定环境即可&nbsp;bin/rake db:migrate RAILS_ENV=development</p>

<p>然后打开页面，就不会出现红色的报错页面，二是显示列表内容（虽然是空的），进行数据的增加即可</p>

<p>同理，rollback 也需要使用 RAILS_ENV=development</p>

<p><img height="299" src="/uploads/ckeditor/pictures/311/image-20220822100654-1.png" width="1311" /></p>

