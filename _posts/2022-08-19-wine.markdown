---
layout: post
title: "wine 微信显示字体"
date: "2022-08-19"
categories: 
---
<p><a href="https://unix.stackexchange.com/questions/496135/chinese-characters-in-wine">参考</a>&nbsp; <a href="https://blog.csdn.net/qq_40878431/article/details/125869965?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-125869965-blog-120170874.t5_layer_eslanding_s_randoms&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-125869965-blog-120170874.t5_layer_eslanding_s_randoms&amp;utm_relevant_index=2">参考2</a> <a href="https://blog.csdn.net/weixin_44022909/article/details/120170874">参考3</a> <a href="https://blog.csdn.net/qq_40878431/article/details/125869965?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-125869965-blog-120170874.t5_layer_eslanding_s_randoms&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-125869965-blog-120170874.t5_layer_eslanding_s_randoms">参考4</a></p>

<p>source ~/env_file 网络环境</p>

<p>Download winetricks:（需要安装非常多的东西，大概二十分钟）</p>

<pre>
<code>wget  https://raw.githubusercontent.com/Winetricks/winetricks/master/src/winetricks{% endhighlight %}

<pre>
设置可执行标志：
<code>chmod +x winetricks{% endhighlight %}

<p>一些 winetricks &ldquo;包&rdquo;需要安装一些外部工具。&nbsp; 我们需要cabextract：</p>

<pre>
<code>sudo apt install cabextract
{% endhighlight %}

<p>现在我们安装字体和其他一些库：</p>

<pre>
<code>./winetricks corefonts gdiplus riched20 riched30 wenquanyi
{% endhighlight %}

<p>最后，我们需要编辑 regedit 以启用我们刚刚安装的字体。&nbsp; 下载这个&nbsp;<a href="https://gist.github.com/swordfeng/c3fd6b6fcf6dc7d7fa8a" rel="nofollow noreferrer">.reg file</a>.</p>

<p>使用以下命令打开 regedit：</p>

<pre>
<code>./winetricks regedit
{% endhighlight %}

<p>在菜单栏中，单击注册表并选择导入注册表文件...</p>

<p>&nbsp;当浏览器出现时，选择您刚刚下载的 .reg 文件。</p>

<p>&nbsp;我们现在准备安装微信本身。</p>

<p>之前已经安装好微信的就可以启动微信，登录页面就显示汉字，也可以发送汉字了</p>

<p><img height="295" src="/uploads/ckeditor/pictures/298/image-20220819161152-3.png" width="590" /></p>

<p>然后wine会跳出来提示有bug，直接close就行，</p>

<p><img height="402" src="/uploads/ckeditor/pictures/299/image-20220819161237-1.png" width="604" /></p>

<p>遇到的问题：</p>

<p class="fs-headline1 ow-break-word mb8 flex--item fl1" itemprop="name">1.<a class="question-hyperlink" href="https://askubuntu.com/questions/1090094/wine-missing-ntlm-auth-3-0-25">Wine missing ntlm_auth 3.0.25</a>： Make sure that ntlm_auth &gt;= 3.0.25 is in your path.</p>

<p class="fs-headline1 ow-break-word mb8 flex--item fl1" itemprop="name">09e4:err:winediag:ntlm_check_version ntlm_auth was not found or is outdated.</p>

<p class="fs-headline1 ow-break-word mb8 flex--item fl1" itemprop="name">解决：</p>

<pre>
<code>sudo apt-get remove winbind &amp;&amp; sudo apt-get install winbind{% endhighlight %}

<div style="background:#eeeeee;border:1px solid #cccccc;padding:5px 10px;"><code>2.删除wine：</code>how to remove wine apt</div>

<pre data-slot-rendered-dynamic="true">
rm -rf ~/.wine</pre>

<p>3.wine ~/.wine/drive_c/Program Files (x86)/Tencent/WeChat/WeChat.exe 不能运行，进行修改,有括号和空格就需要反斜杠进行完善命令</p>

<p>wine &#39;~/.wine/drive_c/Program Files\ \(x86\)/Tencent/WeChat/WeChat.exe&#39;</p>

<p>4.(1)ubuntu 21 apt update 404&nbsp; Not Found [IP: 91.189.91.38 80]（<span class="c-gap-right">IP地址:&nbsp;91.189.91.38</span>美国马萨诸塞波士顿 ））</p>

<p>更新Ubuntu：</p>

<p>cat /etc/*release*（查看Ubuntu版本）</p>

<p><img height="391" src="/uploads/ckeditor/pictures/296/image-20220819160920-1.png" width="967" /></p>

<p>（2）<a href="http://siwei.me/blog/posts/apt-get-update-sources-list">让你的 apt-get update 更快 （修改 sources.list ，使用国内的源） </a></p>

<p>/etc/apt/sources.list</p>

<p>修改：把文件内容包含cn.archive.com(类似)更换为<span class="hljs-url">mirrors.aliyun.com，不含cn.的可以不换（即可）</span></p>

<pre class="hljs nginx">
<span class="hljs-title">deb</span> <span class="hljs-url">http://mirrors.aliyun.com/ubuntu/</span> bionic main restricted universe multiverse
deb <span class="hljs-url">http://mirrors.aliyun.com/ubuntu/</span> bionic-security main restricted universe multiverse
deb <span class="hljs-url">http://mirrors.aliyun.com/ubuntu/</span> bionic-updates main restricted universe multiverse
deb <span class="hljs-url">http://mirrors.aliyun.com/ubuntu/</span> bionic-proposed main restricted universe multiverse
deb <span class="hljs-url">http://mirrors.aliyun.com/ubuntu/</span> bionic-backports main restricted universe multiverse
deb-src <span class="hljs-url">http://mirrors.aliyun.com/ubuntu/</span> bionic main restricted universe multiverse
deb-src <span class="hljs-url">http://mirrors.aliyun.com/ubuntu/</span> bionic-security main restricted universe multiverse
（3）重新配置proxy
</pre>

<div style="background:#eeeeee;border:1px solid #cccccc;padding:5px 10px;"><a href="http://siwei.me/blog/posts/linux-python-proxy-pproxy-https-socks5-docker-socks5-proxy-apt-get-curl-wget">python proxy pproxy </a></div>

<div style="background:#eeeeee;border:1px solid #cccccc;padding:5px 10px;">Ubuntu更新后需要重新配置</div>

<pre>
<code>pip3 install pproxy

pproxy -r socks5://127.0.0.1:1099 -vv

source ~/env_file{% endhighlight %}

