---
layout: post
title: "在服务器上设置go环境 使用 gins"
date: "2022-10-24"
categories: 
---
<p><a href="https://github.com/go-gorm/gorm">https://github.com/go-gorm/gorm</a></p>

<p>快速开始：<a href="https://gin-gonic.com/docs/quickstart/">https://gin-gonic.com/docs/quickstart/</a></p>

<p>安装：</p>

<pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<code class="language-sh" data-lang="sh">$ go get -u github.com/gin-gonic/gin{% endhighlight %}

<p><img height="115" src="/uploads/ckeditor/pictures/603/image-20221024085553-1.png" width="774" /></p>

<p>使用：</p>

<div class="highlight">
<pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<code class="language-go" data-lang="go"><span style="color:#204a87;font-weight:700">import</span> <span style="color:#4e9a06">&quot;github.com/gin-gonic/gin&quot;</span>
{% endhighlight %}

<p>在代码增加引入即可</p>

<p>或者使用：</p>

<div class="highlight">
<pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<code class="language-go" data-lang="go"><span style="color:#204a87;font-weight:700">import</span> <span style="color:#4e9a06">&quot;net/http&quot;</span>
{% endhighlight %}

<p>（1）创建目录并进入</p>

<pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<code class="language-sh" data-lang="sh">$ mkdir -p <span style="color:#000">$GOPATH</span>/src/github.com/myusername/project <span style="color:#ce5c00;font-weight:700">&amp;&amp;</span> <span style="color:#204a87">cd</span> <span style="color:#4e9a06">&quot;</span><span style="color:#000">$_</span><span style="color:#4e9a06">&quot;</span>{% endhighlight %}

{% highlight %}
<code class="language-sh" data-lang="sh"><span style="color:#4e9a06">（2）获取文件：</span>{% endhighlight %}

<p>&nbsp;</p>

<p style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">$ curl https://raw.githubusercontent.com/gin-gonic/examples/master/basic/main.go &gt; main.go{% endhighlight %}</p>

<p><img height="121" src="/uploads/ckeditor/pictures/604/image-20221024085812-2.png" width="1699" /></p>

<p>注意，现在这个目录下并没有安装go的环境，所以要到根目录下才能运行：</p>

{% highlight %}
{% highlight %}root@iZj6c56yutlhy1doylrr41Z:~/go-test# vim main.go

root@iZj6c56yutlhy1doylrr41Z:~/go-test# go run main.go

[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in &quot;debug&quot; mode. Switch to &quot;release&quot; mode in production.{% endhighlight %}

<p><img height="381" src="/uploads/ckeditor/pictures/605/image-20221024171839-1.png" width="1519" /></p>

<p>快速开始：vim {% highlight %}example.go{% endhighlight %}</p>

<pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<code class="language-sh" data-lang="sh"> go run example.go{% endhighlight %}

<pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<code class="language-go" data-lang="go"><span style="color:#204a87;font-weight:700">package</span> <span style="color:#000">main</span>

<span style="color:#204a87;font-weight:700">import</span> <span style="color:#4e9a06">&quot;github.com/gin-gonic/gin&quot;</span>

<span style="color:#204a87;font-weight:700">func</span> <span style="color:#000">main</span><span style="color:#000;font-weight:700">()</span> <span style="color:#000;font-weight:700">{</span>
	<span style="color:#000">r</span> <span style="color:#ce5c00;font-weight:700">:=</span> <span style="color:#000">gin</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">Default</span><span style="color:#000;font-weight:700">()</span>
	<span style="color:#000">r</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">GET</span><span style="color:#000;font-weight:700">(</span><span style="color:#4e9a06">&quot;/ping&quot;</span><span style="color:#000;font-weight:700">,</span> <span style="color:#204a87;font-weight:700">func</span><span style="color:#000;font-weight:700">(</span><span style="color:#000">c</span> <span style="color:#ce5c00;font-weight:700">*</span><span style="color:#000">gin</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">Context</span><span style="color:#000;font-weight:700">)</span> <span style="color:#000;font-weight:700">{</span>
		<span style="color:#000">c</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">JSON</span><span style="color:#000;font-weight:700">(</span><span style="color:#0000cf;font-weight:700">200</span><span style="color:#000;font-weight:700">,</span> <span style="color:#000">gin</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">H</span><span style="color:#000;font-weight:700">{</span>
			<span style="color:#4e9a06">&quot;message&quot;</span><span style="color:#000;font-weight:700">:</span> <span style="color:#4e9a06">&quot;pong&quot;</span><span style="color:#000;font-weight:700">,</span>
		<span style="color:#000;font-weight:700">})</span>
	<span style="color:#000;font-weight:700">})</span>
	<span style="color:#000">r</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">Run</span><span style="color:#000;font-weight:700">()</span> <span style="color:#8f5902;font-style:italic">// listen and serve on 0.0.0.0:8080
</span><span style="color:#000;font-weight:700">}</span>
{% endhighlight %}

<p><img height="331" src="/uploads/ckeditor/pictures/606/image-20221024172116-1.png" width="1519" /></p>

<p>在本地的go文件夹进行运行，可以看到，8080端口正在使用代理，导致端口无法使用：</p>

<p><img height="308" src="/uploads/ckeditor/pictures/609/image-20221024173440-1.png" width="1209" /></p>
</div>
</div>

