---
layout: post
title: "react 去除空行 filter"
date: "2023-11-13"
categories: 
---
<p>对于handsontable保存数据后，会出现：</p>

<pre>
<code>[[&quot;第<span style="color:#ffd700">n</span>年<span style="color:#abe338">&quot;,&quot;</span>初次灌装排放率(EF_ini)<span style="color:#abe338">&quot;,&quot;</span>单位设备初始充填量(m_ini)<span style="color:#abe338">&quot;,&quot;</span>运行排放率(EF_ope)<span style="color:#abe338">&quot;,&quot;</span>维修排放率(EF_ser)<span style="color:#abe338">&quot;,&quot;</span>维修充填率(m_ser)<span style="color:#abe338">&quot;,&quot;</span>逐年维修率(r)<span style="color:#abe338">&quot;,&quot;</span>报废排放率(EF_dis)<span style="color:#abe338">&quot;,&quot;</span>逐年报废率(f)<span style="color:#abe338">&quot;],[&quot;</span><span style="color:#f5ab35">1</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;],[&quot;</span><span style="color:#f5ab35">2</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;],[&quot;</span><span style="color:#f5ab35">3</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;],[&quot;</span><span style="color:#f5ab35">4</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;],[&quot;</span><span style="color:#f5ab35">5</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;],[&quot;</span><span style="color:#f5ab35">6</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;],[&quot;</span><span style="color:#f5ab35">7</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;],[&quot;</span><span style="color:#f5ab35">8</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;],[&quot;</span><span style="color:#f5ab35">9</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;],[&quot;</span><span style="color:#f5ab35">10</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;,&quot;</span><span style="color:#f5ab35">0</span>.<span style="color:#f5ab35">02</span><span style="color:#abe338">&quot;],[&quot;</span><span style="color:#abe338">&quot;,&quot;</span>null<span style="color:#abe338">&quot;,&quot;</span>null<span style="color:#abe338">&quot;,&quot;</span>null<span style="color:#abe338">&quot;,&quot;</span>null<span style="color:#abe338">&quot;,&quot;</span>null<span style="color:#abe338">&quot;,&quot;</span>null<span style="color:#abe338">&quot;,&quot;</span>null<span style="color:#abe338">&quot;,&quot;</span>null<span style="color:#abe338">&quot;]]
</span>{% endhighlight %}

<p>这样的数据可以使用：（<code>filter</code>去除空行）</p>

<pre>
<code>if (this.tableRefs.refrigerationParamsData) {
  const refrigerationDefaultDataRef = this.tableRefs.refrigerationParamsData.hot.getData();
  refrigerationParamsData = refrigerationDefaultDataRef
    .filter((row) =&gt; row.some((cell) =&gt; cell !== null &amp;&amp; cell !== &quot;&quot;))
    .map((row) =&gt; row.map((cell) =&gt; String(cell)));
}{% endhighlight %}

